<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- PWA & Theme Enhancements -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1A1A2E"> <!-- ููู ุงููุถุน ุงููููู -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">

  <!-- Icon -->
  <link rel="icon" href="icons/icon-192x192.png">

  <title>ุฅุฏุงุฑุฉ ุฑุงุชุจู - ุชุทุจููู ุงููุงูู ุงูุฐูู</title>

  <!-- Local Font instead of Google Fonts -->
  <link rel="stylesheet" href="fonts/cairo-local.css">

  <!-- Font Awesome from local (ุฃุถู ุงููุฌูุฏ ูุงุญููุง fonts/fontawesome) -->
  <link rel="stylesheet" href="fonts/fontawesome/css/all.min.css">

  <!-- Styles and Libraries -->
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.21/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <h1><i class="fas fa-sack-dollar"></i> ุฅุฏุงุฑุฉ ุฑุงุชุจู ุงูุฐููุฉ <i class="fas fa-chart-pie"></i></h1>

  <div class="filters card">
    <label for="filterCategory"><i class="fas fa-filter"></i> ููุชุฑุฉ ุญุณุจ ุงููุฆุฉ:</label>
    <select id="filterCategory" onchange="updateUI()">
      <option value="all">ุงููู</option>
      <option value="essentials">ุถุฑูุฑู</option>
      <option value="secondary">ุซุงููู</option>
      <option value="improvements">ุชุญุณููู</option>
    </select>
  </div>

  <div class="dark-toggle card">
    <button onclick="toggleDarkMode()"><i class="fas fa-moon"></i> ุชุจุฏูู ุงููุถุน ุงููููู</button>
  </div>

  <div class="card">
    <h2><i class="fas fa-coins"></i> ุชุญุฏูุฏ ุงูููุฒุงููุฉ</h2>
    <input type="number" id="salaryInput" placeholder="๐ฅ ุฃุฏุฎู ุฑุงุชุจู ุงูุดูุฑู" min="0">
    <input type="number" id="essentialsPercent" value="50" placeholder="ุงูุถุฑูุฑูุงุช %" min="0" max="100">
    <input type="number" id="secondaryPercent" value="30" placeholder="ุงูุซุงูููุงุช %" min="0" max="100">
    <input type="number" id="improvementsPercent" value="20" placeholder="ุงูุชุญุณูููุงุช %" min="0" max="100">
    <button onclick="setBudget()"><i class="fas fa-dollar-sign"></i> ุชูุฒูุน ุงูุฑุงุชุจ</button>
  </div>

  <div class="card" id="balances" style="display:none;">
    <h2><i class="fas fa-wallet"></i> ุฃุฑุตุฏุฉ ุงููุฆุงุช</h2>
    <div class="balance-grid">
      <div class="balance-item">
        ๐ผ ุงูุถุฑูุฑูุงุช: <span id="balanceEssentials">0</span> ุฏุฌ
      </div>
      <div class="balance-item">
        ๐งฅ ุงูุซุงูููุงุช: <span id="balanceSecondary">0</span> ุฏุฌ
      </div>
      <div class="balance-item">
        ๐ ุงูุชุญุณูููุงุช: <span id="balanceImprovements">0</span> ุฏุฌ
      </div>
    </div>
  </div>

  <div class="card" id="expenseForm" style="display:none;">
    <h2><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ูุตุฑูู ุฌุฏูุฏ</h2>
    <input type="text" id="expenseName" placeholder="โ๏ธ ุงุณู ุงููุตุฑูู" required>
    <input type="number" id="expenseAmount" placeholder="๐ต ุงููุจูุบ" min="0" required>
    <select id="expenseCategory">
      <option value="essentials">ุถุฑูุฑู</option>
      <option value="secondary">ุซุงููู</option>
      <option value="improvements">ุชุญุณููู</option>
    </select>
    <button onclick="addExpense()"><i class="fas fa-plus"></i> ุฅุถุงูุฉ</button>
  </div>

  <div class="card" id="logSection" style="display:none;">
    <h2><i class="fas fa-receipt"></i> ุณุฌู ุงููุตุฑููุงุช</h2>
    <div id="logList"></div>
    <div class="export-button">
      <button onclick="exportToPDF()"><i class="fas fa-file-pdf"></i> ุชุตุฏูุฑ ุฅูู PDF</button>
    </div>
  </div>

  <div class="card">
    <h2><i class="fas fa-calendar-alt"></i> ุชูููู ูุงูู ุดูุฑู (ุชุฌุฑูุจู)</h2>
    <div class="calendar-placeholder">
      <i class="fas fa-hourglass-half"></i> <br>
      ูุฐู ุงูููุฒุฉ ููุฏ ุงูุชุทููุฑ ูุณุชุชููุฑ ูุฑูุจูุง. ุชุฑูุจูุง ุงูุชุญุฏูุซุงุช!
    </div>
  </div>

  <div class="card">
    <h2><i class="fas fa-chart-pie"></i> ุชูุฒูุน ุงููุตุฑููุงุช</h2>
    <canvas id="expenseChart"></canvas>
  </div>

  <script src="app.js"></script>
</body>
</html>
